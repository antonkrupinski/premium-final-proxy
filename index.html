<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Login Page</title>
<style>
  /* Your style here for nice appearance */
  body {
    background-color: #0d1b2a;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    font-family: Arial, sans-serif;
  }
  #container {
    background-color: #1b263b;
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.3);
    max-width: 400px;
    width: 90%;
    color: #fff;
  }
  h2 {
    margin-bottom: 25px;
    text-align: center;
  }
  input {
    display: block;
    width: 100%;
    padding: 12px;
    margin-bottom: 20px;
    border-radius: 10px;
    border: none;
    font-size: 16px;
  }
  button {
    width: 100%;
    padding: 14px;
    border: none;
    border-radius: 10px;
    background-color: #3b82f6;
    font-size: 16px;
    color: #fff;
    cursor: pointer;
  }
  button:hover {
    background-color: #2563eb;
  }
</style>
</head>
<body>
<div id="container">
<h2>Login to Your Account</h2>
<form id="loginForm" action="#" method="POST">
  <input type="email" id="email" placeholder="Email" required />
  <input type="password" id="password" placeholder="Password" required />
  <button type="submit">Login</button>
</form>
</div>
<script>
  const adminEmail = 'antonkrupinski0@gmail.com';
  const adminPassword = '201309!';
  let accounts = JSON.parse(localStorage.getItem('accounts')) || {
    [adminEmail]: adminPassword
  };
  document.getElementById('loginForm').addEventListener('submit', function(e) {
    e.preventDefault(); // prevent form's default submit behavior
    const email = document.getElementById('email').value.trim();
    const password = document.getElementById('password').value.trim();
    if (accounts[email] && accounts[email] === password) {
      if (email === adminEmail && password === adminPassword) {
        openAdminPage();
      } else {
        openUserIframe();
      }
    } else {
      alert('Invalid credentials');
    }
  });
  function openUserIframe() {
    setTimeout(function() {
      var newTab = window.open('about:blank', '_blank');
      if (newTab) {
        newTab.document.write(`
          <!DOCTYPE html>
          <html lang="en">
          <head><meta charset="UTF-8" /><title>Educational Content</title></head>
          <body style="margin:0;">
            <iframe src="https://peninsulaeducation.baselinux.net/" style="width:100%; height:100vh; border:none;"></iframe>
          </body>
          </html>
        `);
      } else {
        alert("Popup blocked! Please allow popups for this site.");
      }
    }, 1000);
  }
  function openAdminPage() {
    var adminTab = window.open('about:blank', '_blank');
    if (adminTab) {
      adminTab.document.write(`
        <!DOCTYPE html>
        <html lang="en">
        <head><meta charset="UTF-8" /><title>Admin Panel</title></head>
        <body style="background:#0d1b2a; color:#fff; font-family:sans-serif; padding:20px;">
          <h2>Account Management</h2>
          <div id="accountsDiv"></div>
          <h3>Add Account</h3>
          <input type="email" id="newEmail" placeholder="Email" />
          <input type="password" id="newPassword" placeholder="Password" />
          <button id="addBtn">Add</button>
          <script>
            let accounts = ${JSON.stringify(accounts)};
            const listDiv = document.getElementById('accountsDiv');
            function renderAccounts() {
              listDiv.innerHTML = '';
              for (const email in accounts) {
                const div = document.createElement('div');
                div.style.display='flex'; div.style.justifyContent='space-between'; div.style.background='#1b263b'; div.style.padding='8px'; div.style.borderRadius='5px'; div.style.marginBottom='5px';
                div.innerHTML = \`
                  <span>\${email}</span>
                  <button class="delBtn" data-email="\${email}">Delete</button>
                \`;
                listDiv.appendChild(div);
              }
              document.querySelectorAll('.delBtn').forEach(btn => {
                btn.onclick = () => {
                  const emailToDel = btn.getAttribute('data-email');
                  delete accounts[emailToDel];
                  saveAndRender();
                };
              });
            }
            function saveAndRender() {
              localStorage.setItem('accounts', JSON.stringify(accounts));
              renderAccounts();
            }
            document.getElementById('addBtn').onclick = () => {
              const email = document.getElementById('newEmail').value.trim();
              const pass = document.getElementById('newPassword').value.trim();
              if (email && pass) {
                if (accounts[email]) { alert('Exists!'); return; }
                accounts[email] = pass;
                saveAndRender();
                document.getElementById('newEmail').value = '';
                document.getElementById('newPassword').value = '';
              }
            };
            renderAccounts();
          <\/script>
        </body>
        </html>
      `);
    } else {
      alert("Popup blocked! Please allow popups.");
    }
  }
</script>
</body>
</html>

</body>
</html>

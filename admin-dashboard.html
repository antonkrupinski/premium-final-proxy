<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Admin Dashboard</title>
<style>
  body {
    margin:0;
    font-family:Arial,sans-serif;
    background:#0d1b2a;
    color:#fff;
  }
  h2 {
    text-align:center;
    margin-top:20px;
  }
  #manage {
    max-width:600px;
    margin:20px auto;
    padding:10px;
    background:#222;
    border-radius:8px;
  }
  input {
    width: calc(50% - 10px);
    padding:8px;
    margin:5px;
    border:none;
    border-radius:4px;
  }
  button {
    width:100%;
    padding:8px;
    margin:5px 0;
    border:none;
    border-radius:4px;
    background:#3b82f6;
    color:#fff;
  }
  button:hover {
    background:#2563eb;
  }
  #accountsList {
    margin-top:10px;
  }
  .account-item {
    display:flex; justify-content:space-between; align-items:center;
    background:#444; padding:4px; margin-bottom:4px; border-radius:4px;
  }
</style>
</head>
<body>

<h2>Admin Account Management</h2>
<div id="manage">
  <h3>Add Account</h3>
  <input type="email" id="newEmail" placeholder="Email" />
  <input type="password" id="newPassword" placeholder="Password" />
  <button id="addBtn">Add Account</button>
  <h3>Existing Accounts</h3>
  <div id="accountsList"></div>
</div>

<script>
  const adminEmail = 'antonkrupinski0@gmail.com';
  const adminPassword = '201309!';

  let accounts = JSON.parse(localStorage.getItem('accounts')) || {
    [adminEmail]: adminPassword
  };

  // Load banned accounts
  let bannedAccounts = JSON.parse(localStorage.getItem('banned')) || [];

  function saveAccounts() {
    localStorage.setItem('accounts', JSON.stringify(accounts));
  }

  function saveBanned() {
    localStorage.setItem('banned', JSON.stringify(bannedAccounts));
  }

  function renderAccounts() {
    const listDiv = document.getElementById('accountsList');
    listDiv.innerHTML = '';
    for (const email in accounts) {
      const div = document.createElement('div');
      div.className='account-item';
      const isBanned = bannedAccounts.includes(email);
      div.innerHTML = `
        <span>${email}</span>
        <div>
          <button onclick="deleteAccount('${email}')">X</button>
          <button onclick="toggleBan('${email}')">${isBanned ? 'Unban' : 'Ban'}</button>
        </div>
      `;
      listDiv.appendChild(div);
    }
  }

  window.deleteAccount = function(email) {
    if (email === adminEmail) {
      alert("Cannot delete admin account");
      return;
    }
    delete accounts[email];
    // Also unban if banned
    bannedAccounts = bannedAccounts.filter(e => e !== email);
    saveAccounts();
    saveBanned();
    renderAccounts();
  };

  window.toggleBan = function(email) {
    if (bannedAccounts.includes(email)) {
      // Unban
      bannedAccounts = bannedAccounts.filter(e => e !== email);
    } else {
      // Ban
      bannedAccounts.push(email);
    }
    saveBanned();
    renderAccounts();
  };

  document.getElementById('addBtn').onclick = () => {
    const email = document.getElementById('newEmail').value.trim();
    const pass = document.getElementById('newPassword').value.trim();
    if (email && pass && !accounts[email]) {
      accounts[email] = pass;
      saveAccounts();
      renderAccounts();
      document.getElementById('newEmail').value = '';
      document.getElementById('newPassword').value = '';
    } else {
      alert('Invalid or duplicate email');
    }
  };

  renderAccounts();
</script>
</body>
</html>
